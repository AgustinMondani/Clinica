<div class="login-container">
  <div class="login-card">
    <h2 class="text-center mb-4">Registro de Administrador</h2>

    <form (ngSubmit)="registrar()" #form="ngForm" novalidate>
      <div class="row">
        <div class="col-md-6 mb-3">
          <label>Nombre</label>
          <input class="form-control" [(ngModel)]="formData.nombre" name="nombre" #nombre="ngModel" required />
          <div class="error" *ngIf="nombre.invalid && nombre.touched">
            El nombre es obligatorio
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>Apellido</label>
          <input class="form-control" [(ngModel)]="formData.apellido" name="apellido" #apellido="ngModel" required />
          <div class="error" *ngIf="apellido.invalid && apellido.touched">
            El apellido es obligatorio
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>Edad</label>
          <input type="number" class="form-control" [(ngModel)]="formData.edad" name="edad" #edad="ngModel" required
            min="18" max="120" />
          <div class="error" *ngIf="edad.invalid && edad.touched">
            <ng-container *ngIf="edad.errors?.['required']">La edad es obligatoria</ng-container>
            <ng-container *ngIf="edad.errors?.['min']">La edad mínima es 18</ng-container>
            <ng-container *ngIf="edad.errors?.['max']">La edad máxima es 102</ng-container>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>DNI</label>
          <input class="form-control" [(ngModel)]="formData.dni" name="dni" #dni="ngModel" required
            pattern="^[0-9]{7,8}$" />
          <div class="error" *ngIf="dni.invalid && dni.touched">
            <ng-container *ngIf="dni.errors?.['required']">El DNI es obligatorio</ng-container>
            <ng-container *ngIf="dni.errors?.['pattern']">El DNI debe tener entre 7 y 8 números</ng-container>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>Email</label>
          <input type="email" class="form-control" [(ngModel)]="formData.email" name="email" #email="ngModel" required
            email />
          <div class="error" *ngIf="email.invalid && email.touched">
            <ng-container *ngIf="email.errors?.['required']">El email es obligatorio</ng-container>
            <ng-container *ngIf="email.errors?.['email']">El email debe ser válido</ng-container>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>Contraseña</label>
          <input type="password" class="form-control" [(ngModel)]="formData.password" name="password"
            #password="ngModel" required minlength="6" />
          <div class="error" *ngIf="password.invalid && password.touched">
            <ng-container *ngIf="password.errors?.['required']">La contraseña es obligatoria</ng-container>
            <ng-container *ngIf="password.errors?.['minlength']">La contraseña debe tener al menos 6
              caracteres</ng-container>
          </div>
        </div>

        <div class="col-md-6 mb-3">
          <label>Imagen</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)" accept="image/*" />
          <div class="error" *ngIf="errorImagen">{{ errorImagen }}</div>
        </div>
      </div>

      <div class="error-general mb-3" *ngIf="errorGeneral">{{ errorGeneral }}</div>

      <button class="btn btn-primary w-100" [disabled]="form.invalid || !imagen" type="submit">
        Registrar Administrador
      </button>
    </form>
  </div>
</div>